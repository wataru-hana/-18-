# 価格自動取得システム - Webアプリケーション版

## 概要

既存のコマンドライン実行型スクリプトを、Webアプリケーションとして動作させるためのサンプル実装です。

## セットアップ

### 1. 依存関係のインストール

```bash
pip install -r requirements_web.txt
```

### 2. データベースの初期化

```bash
python app.py
```

初回実行時にSQLiteデータベース（`prices.db`）が自動的に作成されます。

### 3. アプリケーションの起動

```bash
python app.py
```

ブラウザで `http://localhost:5000` にアクセスします。

## 機能

- ✅ 実装済み18社のスクレイピング実行
- ✅ 結果の表示（テーブル形式）
- ✅ Excelファイルのダウンロード
- ✅ 進捗表示

## API エンドポイント

- `GET /` - メインページ
- `GET /api/companies` - 企業一覧を取得
- `POST /api/scrape` - スクレイピングを開始
- `GET /api/results` - 最新の結果を取得
- `GET /api/results/latest` - 企業ごとの最新価格を取得
- `GET /api/download/excel` - Excelファイルをダウンロード

## 注意事項

- このサンプルは同期的にスクレイピングを実行します（時間がかかります）
- 本番環境では、Celeryを使用したバックグラウンドジョブの実装を推奨します
- 詳細は `ウェブアプリ化_デプロイ計画.md` を参照してください






